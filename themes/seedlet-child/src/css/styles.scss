/**
 * Custom styles.
 */
:root {
  /* dark mode */
  --global--color-background-dark: #111;
  --global--color-foreground-dark: #fff;

  /* make wide width a little wider */
  --responsive--alignwide-width: min(
    calc(100vw - 2 * var(--global--spacing-horizontal)),
    990px
  );
}

/* center all titles */
.entry-title,
.site-info,
.page-title {
  text-align: center;
}

/* disable border on post/page titles */
.entry-title > a {
  border: none;
}

/* various spacing adjustments */
.page-header {
  margin-bottom: var(--global--spacing-vertical);
}

.site-main > article > .entry-footer {
  margin-top: var(--global--spacing-vertical);
}

ul {
  padding-left: var(--global--spacing-horizontal);
}

li {
  margin-bottom: calc(var(--global--spacing-vertical) - 10);
}

.site-info p {
  font-size: 0.75rem;
  margin-bottom: var(--global--spacing-vertical);
}

/* style the article grid */
.article-grid {
  align-items: start;
  display: grid;
  grid-gap: var(--global--spacing-vertical);
  grid-template-columns: repeat(auto-fit, 300px);
  justify-content: center;
  margin: 0 auto;
  max-width: 960px;
}

.article-grid {
  .entry-title {
    font-size: var(--global--font-size-xl);
    text-align: left;
  }

  .entry-content {
    font-size: var(--global--font-size-sm);
  }
}

/* reset code block styles */
.wp-block-code {
  border: none;
  margin: 0;
  overflow: auto;
  padding: 0;
}

/* style code blocks */
.wp-block-preformatted,
.wp-block-code code {
  background: var(--global--color-tertiary);
  border: 1px solid var(--global--color-background-dark);
  border-left: 3px solid var(--global--color-secondary);
  color: var(--global--color-foreground);
  display: block;
  font-family: monospace;
  font-size: var(--global--font-size-xs);
  line-height: var(--global--line-height-body);
  margin-bottom: var(--wp--preset--spacing--30);
  overflow: auto;
  padding: var(--wp--preset--spacing--40) var(--wp--preset--spacing--50);
  page-break-inside: avoid;
  white-space: pre;
  word-wrap: break-word;
}

/* remove float from alignright images */
@media screen and (max-width: 652px) {
  .wp-block-image .alignright {
    float: none;
  }
}

/* dark mode */
@media (prefers-color-scheme: dark) {
  body,
  .primary-navigation > div {
    background: var(--global--color-background-dark);
    color: var(--global--color-foreground-dark);
  }

  .site-title,
  .site-title a:link {
    color: var(--global--color-foreground-dark);
    text-shadow: 1px 0px 0px var(--global--color-background-dark);
  }

  .menu-button-container .button,
  .primary-navigation .menu-item > a,
  .pagination .nav-links > *,
  .navigation a,
  .social-navigation a,
  .entry-footer a,
  a {
    color: var(--global--color-foreground-dark);

    &:visited,
    &:active {
      color: var(--global--color-foreground-dark);
    }

    &:hover {
      color: var(--global--color-foreground-dark);
    }
  }

  .site-description,
  .entry-title,
  .site-footer > .site-info,
  .page-title,
  .wp-block-image figcaption,
  .post-navigation .meta-nav,
  .comment-meta .comment-metadata,
  .wp-block-preformatted,
  .wp-block-code code,
  .entry-footer,
  div.wpforms-container-full .wpforms-field-label {
    color: var(--global--color-foreground-dark);
  }

  .wp-block-preformatted,
  .wp-block-code code {
    background: #2b2b2b3f;
  }

  input[type='text'],
  input[type='email'],
  input[type='url'],
  input[type='password'],
  input[type='search'],
  input[type='number'],
  input[type='tel'],
  input[type='range'],
  input[type='date'],
  input[type='month'],
  input[type='week'],
  input[type='time'],
  input[type='datetime'],
  input[type='datetime-local'],
  input[type='color'],
  textarea {
    color: var(--global--color-foreground-dark);

    &:focus {
      color: var(--global--color-foreground-dark);
    }
  }
}
